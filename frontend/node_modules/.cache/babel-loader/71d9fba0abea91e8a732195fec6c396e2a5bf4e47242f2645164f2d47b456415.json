{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate,useLocation}from'react-router-dom';import{getNotes,deleteNote}from'../../services/notesService';// import NavBar from './components/nav-bar'; \nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MeetingScreen=()=>{const[meetingNotes,setMeetingNotes]=useState([]);const navigate=useNavigate();const location=useLocation();const fetchMeetingNotes=async()=>{try{const response=await getNotes();// Only show notes that are both minute notes AND approved\nconst meetingNotes=response.data.filter(note=>note.isMinute===true&&note.isApproved===true);setMeetingNotes(meetingNotes);}catch(err){console.error('Error fetching notes:',err);}};useEffect(()=>{fetchMeetingNotes();},[location]);const handleNoteClick=noteId=>{navigate(`/minute_note/${noteId}`);};const handleDelete=async(e,noteId)=>{e.stopPropagation();// Now `e` is a valid event object\nif(window.confirm(\"Are you sure you want to delete this note?\")){try{await deleteNote(noteId);setMeetingNotes(prev=>prev.filter(note=>note._id!==noteId));}catch(err){console.error(\"Failed to delete note:\",err);}}};const formatDate=isoString=>{const date=new Date(isoString);return date.toLocaleString();};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'2rem'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'1.8rem',marginBottom:'1rem'},children:\"Meeting Notes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/minute_create'),style:{backgroundColor:'#add8f7',color:'black',border:'none',borderRadius:'25px',padding:'10px 20px',fontSize:'1rem',cursor:'pointer',marginBottom:'1.5rem'},children:\"Create New Minute Note\"}),meetingNotes.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No meeting notes found.\"}):/*#__PURE__*/_jsx(\"ul\",{style:{listStyleType:'none',padding:0,display:'flex',flexWrap:'wrap',gap:'1rem'},children:meetingNotes.map(note=>/*#__PURE__*/_jsxs(\"li\",{onClick:()=>handleNoteClick(note._id),style:{backgroundColor:'#d3eafd',borderRadius:'15px',border:'1px solid #333',padding:'1rem 1.5rem',cursor:'pointer',width:'23%',boxSizing:'border-box'},children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Title:\"}),\" \",/*#__PURE__*/_jsx(\"em\",{children:note.title})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Content:\"}),\" \",/*#__PURE__*/_jsxs(\"em\",{children:[note.content.slice(0,100),\"...\"]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Created:\"}),\" \",/*#__PURE__*/_jsx(\"em\",{children:formatDate(note.createdAt)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem',display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();navigate(`/minute_note_detail/${note._id}`);},style:{backgroundColor:'#d3d3d3',border:'none',borderRadius:'15px',padding:'6px 15px',cursor:'pointer'},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>handleDelete(e,note._id),style:{backgroundColor:'#f66',color:'white',border:'none',borderRadius:'15px',padding:'6px 15px',cursor:'pointer'},children:\"Delete\"})]})]},note._id))})]});};export default MeetingScreen;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useLocation","getNotes","deleteNote","jsx","_jsx","jsxs","_jsxs","MeetingScreen","meetingNotes","setMeetingNotes","navigate","location","fetchMeetingNotes","response","data","filter","note","isMinute","isApproved","err","console","error","handleNoteClick","noteId","handleDelete","e","stopPropagation","window","confirm","prev","_id","formatDate","isoString","date","Date","toLocaleString","style","padding","children","fontSize","marginBottom","onClick","backgroundColor","color","border","borderRadius","cursor","length","listStyleType","display","flexWrap","gap","map","width","boxSizing","title","content","slice","createdAt","marginTop"],"sources":["C:/Users/HP/sys_integ/frontend/src/pages/meetings/meeting_screen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { getNotes, deleteNote } from '../../services/notesService';\r\n// import NavBar from './components/nav-bar'; \r\n\r\nconst MeetingScreen = () => {\r\n  const [meetingNotes, setMeetingNotes] = useState([]);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\nconst fetchMeetingNotes = async () => {\r\n  try {\r\n    const response = await getNotes();\r\n    // Only show notes that are both minute notes AND approved\r\n    const meetingNotes = response.data.filter(note => note.isMinute === true && note.isApproved === true);\r\n    setMeetingNotes(meetingNotes);\r\n  } catch (err) {\r\n    console.error('Error fetching notes:', err);\r\n  }\r\n};\r\n\r\n\r\n  useEffect(() => {\r\n    fetchMeetingNotes();\r\n  }, [location]);\r\n\r\n  const handleNoteClick = (noteId) => {\r\n    navigate(`/minute_note/${noteId}`);\r\n  };\r\n  const handleDelete = async (e, noteId) => {\r\n    e.stopPropagation();  // Now `e` is a valid event object\r\n    if (window.confirm(\"Are you sure you want to delete this note?\")) {\r\n      try {\r\n        await deleteNote(noteId);\r\n        setMeetingNotes(prev => prev.filter(note => note._id !== noteId));\r\n      } catch (err) {\r\n        console.error(\"Failed to delete note:\", err);\r\n      }\r\n    }\r\n  };\r\n  \r\n\r\n  const formatDate = (isoString) => {\r\n    const date = new Date(isoString);\r\n    return date.toLocaleString();\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '2rem' }}>\r\n      {/* <NavBar/> */}\r\n  <h1 style={{ fontSize: '1.8rem', marginBottom: '1rem' }}>Meeting Notes</h1>\r\n\r\n  <button\r\n    onClick={() => navigate('/minute_create')}\r\n    style={{\r\n      backgroundColor: '#add8f7',\r\n      color: 'black',\r\n      border: 'none',\r\n      borderRadius: '25px',\r\n      padding: '10px 20px',\r\n      fontSize: '1rem',\r\n      cursor: 'pointer',\r\n      marginBottom: '1.5rem'\r\n    }}\r\n  >\r\n    Create New Minute Note\r\n  </button>\r\n\r\n  {meetingNotes.length === 0 ? (\r\n    <p>No meeting notes found.</p>\r\n  ) : (\r\n    <ul style={{\r\n      listStyleType: 'none',\r\n      padding: 0,\r\n      display: 'flex',\r\n      flexWrap: 'wrap',\r\n      gap: '1rem'\r\n    }}>\r\n      {meetingNotes.map(note => (\r\n        <li\r\n          key={note._id}\r\n          onClick={() => handleNoteClick(note._id)}\r\n          style={{\r\n            backgroundColor: '#d3eafd',\r\n            borderRadius: '15px',\r\n            border: '1px solid #333',\r\n            padding: '1rem 1.5rem',\r\n            cursor: 'pointer',\r\n            width: '23%',\r\n            boxSizing: 'border-box'\r\n          }}\r\n        >\r\n          <p><strong>Title:</strong> <em>{note.title}</em></p>\r\n          <p><strong>Content:</strong> <em>{note.content.slice(0, 100)}...</em></p>\r\n          <p><strong>Created:</strong> <em>{formatDate(note.createdAt)}</em></p>\r\n\r\n          <div style={{ marginTop: '1rem', display: 'flex', gap: '10px' }}>\r\n            <button\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                navigate(`/minute_note_detail/${note._id}`);\r\n              }}\r\n              style={{\r\n                backgroundColor: '#d3d3d3',\r\n                border: 'none',\r\n                borderRadius: '15px',\r\n                padding: '6px 15px',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              Edit\r\n            </button>\r\n\r\n            <button\r\n              onClick={(e) => handleDelete(e, note._id)}\r\n              style={{\r\n                backgroundColor: '#f66',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '15px',\r\n                padding: '6px 15px',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              Delete\r\n            </button>\r\n          </div>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  )}\r\n</div>\r\n\r\n\r\n  );\r\n};\r\n\r\nexport default MeetingScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}