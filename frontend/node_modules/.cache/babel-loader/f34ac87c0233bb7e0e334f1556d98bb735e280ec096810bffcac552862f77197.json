{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{deleteAttendance}from'../../services/attendanceService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AttendanceList=()=>{const[attendances,setAttendances]=useState([]);const navigate=useNavigate();useEffect(()=>{const fetchAttendances=async()=>{try{const response=await axios.get(`${process.env.REACT_APP_API_URL}/api/attendance/list`);setAttendances(response.data);}catch(error){console.error('Error fetching attendance records:',error);}};fetchAttendances();},[]);const handleDelete=async(e,attendanceId)=>{e.stopPropagation();if(window.confirm(\"Are you sure you want to remove this attendance date?\")){try{await deleteAttendance(attendanceId);setAttendances(prev=>prev.filter(attendance=>attendance._id!==attendanceId));}catch(err){console.error(\"Failed to delete\",err);}}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:'10px'},children:\"Attendance\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/attendance/create'),style:{marginBottom:'20px',padding:'8px 16px',backgroundColor:'#b4d8f7',color:'black',border:'none',borderRadius:'20px',cursor:'pointer',fontWeight:'500'},children:\"Add Attendance\"}),/*#__PURE__*/_jsx(\"ul\",{style:{paddingLeft:'20px',fontStyle:'italic'},children:attendances.map(attendance=>/*#__PURE__*/_jsxs(\"li\",{onClick:()=>navigate(`/attendance/details/${attendance._id}`),style:{cursor:'pointer',marginBottom:'10px',display:'flex',justifyContent:'flex-start',// Ensure items are aligned from the start\nalignItems:'center',padding:'5px 0'// Add some padding for better spacing\n},children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>handleDelete(e,attendance._id),style:{background:'red',color:'white',border:'none',borderRadius:'50%',padding:'5px 10px',cursor:'pointer',marginRight:'10px'// Space between the button and the date\n},children:\"X\"}),new Date(attendance.meeting_date).toLocaleDateString()]},attendance._id))})]});};export default AttendanceList;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","deleteAttendance","jsx","_jsx","jsxs","_jsxs","AttendanceList","attendances","setAttendances","navigate","fetchAttendances","response","get","process","env","REACT_APP_API_URL","data","error","console","handleDelete","e","attendanceId","stopPropagation","window","confirm","prev","filter","attendance","_id","err","children","style","marginBottom","onClick","padding","backgroundColor","color","border","borderRadius","cursor","fontWeight","paddingLeft","fontStyle","map","display","justifyContent","alignItems","background","marginRight","Date","meeting_date","toLocaleDateString"],"sources":["C:/Users/HP/sys_integ/frontend/src/pages/attendance/attendance_list.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { deleteAttendance} from '../../services/attendanceService';\r\n\r\nconst AttendanceList = () => {\r\n  const [attendances, setAttendances] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchAttendances = async () => {\r\n      try {\r\n        const response = await axios.get(`${process.env.REACT_APP_API_URL}/api/attendance/list`);\r\n        setAttendances(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching attendance records:', error);\r\n      }\r\n    };\r\n    fetchAttendances();\r\n  }, []);\r\n\r\n  const handleDelete = async (e, attendanceId) => {\r\n    e.stopPropagation();\r\n    if(window.confirm(\"Are you sure you want to remove this attendance date?\")) {\r\n      try{\r\n        await deleteAttendance(attendanceId);\r\n        setAttendances(prev => prev.filter(attendance => attendance._id !== attendanceId));\r\n      } catch (err) {\r\n        console.error(\"Failed to delete\", err)\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2 style={{ marginBottom: '10px' }}>Attendance</h2>\r\n\r\n      <button \r\n        onClick={() => navigate('/attendance/create')} \r\n        style={{\r\n          marginBottom: '20px',\r\n          padding: '8px 16px',\r\n          backgroundColor: '#b4d8f7',\r\n          color: 'black',\r\n          border: 'none',\r\n          borderRadius: '20px',\r\n          cursor: 'pointer',\r\n          fontWeight: '500'\r\n        }}\r\n      >\r\n        Add Attendance\r\n      </button>\r\n\r\n      <ul style={{ paddingLeft: '20px', fontStyle: 'italic' }}>\r\n        {attendances.map((attendance) => (\r\n          <li\r\n            key={attendance._id}\r\n            onClick={() => navigate(`/attendance/details/${attendance._id}`)}\r\n            style={{\r\n              cursor: 'pointer',\r\n              marginBottom: '10px',\r\n              display: 'flex',\r\n              justifyContent: 'flex-start',  // Ensure items are aligned from the start\r\n              alignItems: 'center',\r\n              padding: '5px 0' // Add some padding for better spacing\r\n            }}\r\n          >\r\n            <button\r\n              onClick={(e) => handleDelete(e, attendance._id)}\r\n              style={{\r\n                background: 'red',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '50%',\r\n                padding: '5px 10px',\r\n                cursor: 'pointer',\r\n                marginRight: '10px' // Space between the button and the date\r\n              }}\r\n            >\r\n              X\r\n            </button>\r\n            {new Date(attendance.meeting_date).toLocaleDateString()}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AttendanceList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}