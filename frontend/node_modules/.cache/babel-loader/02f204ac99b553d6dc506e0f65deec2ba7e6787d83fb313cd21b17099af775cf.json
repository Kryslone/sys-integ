{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AttendanceForm=()=>{const[meetingDate,setMeetingDate]=useState('');const[attendees,setAttendees]=useState('');const[createdBy,setCreatedBy]=useState('');const[error,setError]=useState('');const[successMessage,setSuccessMessage]=useState('');const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();const attendanceData={meeting_date:meetingDate,attendees:attendees.split(',').map(att=>att.trim()),created_by:createdBy};console.log(\"Submitting attendance data:\",attendanceData);try{const response=await axios.post(`${process.env.REACT_APP_API_URL}/api/attendance/create`,attendanceData);console.log(\"Attendance created:\",response.data);setSuccessMessage('Attendance created successfully!'),setTimeout(()=>{navigate('/attendance/list');},1500);}catch(error){console.error('Error submitting attendance:',error.response?error.response.data:error.message);setError('Failed to create attendance: '+(error.response?error.response.data.error:error.message));}};return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',marginTop:'40px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#e1effa',padding:'30px',borderRadius:'10px',width:'400px',border:'1px solid #ccc',boxShadow:'0 0 5px rgba(0,0,0,0.1)'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:'center'},children:\"Create Attendance\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:'bold',fontSize:'16px'},children:\"Meeting Date:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:meetingDate,onChange:e=>setMeetingDate(e.target.value),required:true,style:{width:'100%',padding:'8px',borderRadius:'4px',border:'1px solid #ccc',marginTop:'5px'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:'bold',fontSize:'16px'},children:\"Attendees (comma separated):\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:attendees,onChange:e=>setAttendees(e.target.value),required:true,style:{width:'100%',padding:'8px',borderRadius:'4px',border:'1px solid #ccc',marginTop:'5px'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:'bold',fontSize:'16px'},children:\"Created By:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:createdBy,onChange:e=>setCreatedBy(e.target.value),required:true,style:{width:'100%',padding:'8px',borderRadius:'4px',border:'1px solid #ccc',marginTop:'5px'}})]}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),successMessage&&/*#__PURE__*/_jsx(\"p\",{style:{color:'green'},children:successMessage}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{backgroundColor:'#4CAF50',color:'white',padding:'8px 20px',border:'none',borderRadius:'20px',cursor:'pointer',fontWeight:'bold',width:'100%',marginTop:'10px'},children:\"Submit Attendance\"})]})]})});};export default AttendanceForm;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","AttendanceForm","meetingDate","setMeetingDate","attendees","setAttendees","createdBy","setCreatedBy","error","setError","successMessage","setSuccessMessage","navigate","handleSubmit","e","preventDefault","attendanceData","meeting_date","split","map","att","trim","created_by","console","log","response","post","process","env","REACT_APP_API_URL","data","setTimeout","message","style","display","justifyContent","marginTop","children","backgroundColor","padding","borderRadius","width","border","boxShadow","textAlign","onSubmit","marginBottom","fontWeight","fontSize","type","value","onChange","target","required","color","cursor"],"sources":["C:/Users/HP/sys_integ/frontend/src/pages/attendance/attendance_form.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst AttendanceForm = () => {\r\n  const [meetingDate, setMeetingDate] = useState('');\r\n  const [attendees, setAttendees] = useState('');\r\n  const [createdBy, setCreatedBy] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n  const navigate = useNavigate(); \r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const attendanceData = {\r\n      meeting_date: meetingDate,\r\n      attendees: attendees.split(',').map((att) => att.trim()),\r\n      created_by: createdBy,\r\n    };\r\n\r\n    console.log(\"Submitting attendance data:\", attendanceData);\r\n\r\n    try {\r\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/attendance/create`, attendanceData);\r\n      console.log(\"Attendance created:\", response.data);\r\n      setSuccessMessage('Attendance created successfully!'),\r\n\r\n      setTimeout(() => {\r\n        navigate('/attendance/list');\r\n      }, 1500);\r\n\r\n    } catch (error) {\r\n      console.error('Error submitting attendance:', error.response ? error.response.data : error.message);\r\n      setError('Failed to create attendance: ' + (error.response ? error.response.data.error : error.message));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: 'flex', justifyContent: 'center', marginTop: '40px' }}>\r\n  <div style={{\r\n    backgroundColor: '#e1effa',\r\n    padding: '30px',\r\n    borderRadius: '10px',\r\n    width: '400px',\r\n    border: '1px solid #ccc',\r\n    boxShadow: '0 0 5px rgba(0,0,0,0.1)'\r\n  }}>\r\n    <h2 style={{ textAlign: 'center' }}>Create Attendance</h2>\r\n    <form onSubmit={handleSubmit}>\r\n      <div style={{ marginBottom: '20px' }}>\r\n        <label style={{ fontWeight: 'bold', fontSize: '16px' }}>Meeting Date:</label><br />\r\n        <input\r\n          type=\"date\"\r\n          value={meetingDate}\r\n          onChange={(e) => setMeetingDate(e.target.value)}\r\n          required\r\n          style={{\r\n            width: '100%',\r\n            padding: '8px',\r\n            borderRadius: '4px',\r\n            border: '1px solid #ccc',\r\n            marginTop: '5px'\r\n          }}\r\n        />\r\n      </div>\r\n      <div style={{ marginBottom: '20px' }}>\r\n        <label style={{ fontWeight: 'bold', fontSize: '16px' }}>Attendees (comma separated):</label><br />\r\n        <input\r\n          type=\"text\"\r\n          value={attendees}\r\n          onChange={(e) => setAttendees(e.target.value)}\r\n          required\r\n          style={{\r\n            width: '100%',\r\n            padding: '8px',\r\n            borderRadius: '4px',\r\n            border: '1px solid #ccc',\r\n            marginTop: '5px'\r\n          }}\r\n        />\r\n      </div>\r\n      <div style={{ marginBottom: '20px' }}>\r\n        <label style={{ fontWeight: 'bold', fontSize: '16px' }}>Created By:</label><br />\r\n        <input\r\n          type=\"text\"\r\n          value={createdBy}\r\n          onChange={(e) => setCreatedBy(e.target.value)}\r\n          required\r\n          style={{\r\n            width: '100%',\r\n            padding: '8px',\r\n            borderRadius: '4px',\r\n            border: '1px solid #ccc',\r\n            marginTop: '5px'\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      {error && <p style={{ color: 'red' }}>{error}</p>}\r\n      {successMessage && <p style={{ color: 'green' }}>{successMessage}</p>}\r\n\r\n      <button\r\n        type=\"submit\"\r\n        style={{\r\n          backgroundColor: '#4CAF50',\r\n          color: 'white',\r\n          padding: '8px 20px',\r\n          border: 'none',\r\n          borderRadius: '20px',\r\n          cursor: 'pointer',\r\n          fontWeight: 'bold',\r\n          width: '100%',\r\n          marginTop: '10px'\r\n        }}\r\n      >\r\n        Submit Attendance\r\n      </button>\r\n    </form>\r\n  </div>\r\n</div>\r\n\r\n  );\r\n};\r\n\r\nexport default AttendanceForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}